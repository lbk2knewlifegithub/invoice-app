"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[113],{2113:(ie,f,s)=>{s.r(f),s.d(f,{AuthGuard:()=>d.a,LoggedInGuard:()=>d.e,LoginModule:()=>D,SignUpModule:()=>re});var c=s(9808),i=s(2382),e=s(5e3),Z=s(6460),p=s(4997),h=s(2633);function P(n,o){if(1&n&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage," ")}}let U=(()=>{class n{constructor(t){this._fb=t,this.submitted=new e.vpe}ngOnInit(){this.form=this._fb.group({username:["",[i.kI.required,i.kI.minLength(5),i.kI.maxLength(30)]],password:["",[i.kI.required,i.kI.minLength(8),i.kI.maxLength(30)]]})}submit(){this.form.invalid||this.submitted.emit(this.form.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["lbk-login-form"]],inputs:{errorMessage:"errorMessage",pending:"pending"},outputs:{submitted:"submitted"},decls:23,vars:4,consts:[[1,"grid","place-items-center"],[1,"space-y-8","lg:space-y-10"],["routerLink","/",1,"block","cursor-pointer"],[1,"mt-12"],["class","text-lg text-danger-900",4,"ngIf"],[1,"grid","gap-6","mt-4",3,"formGroup","ngSubmit"],[1,"space-y-2"],["for","username",1,"text-muted-900"],["formControlName","username","id","username","type","text"],["for","password",1,"text-muted-900"],["formControlName","password","id","password","type","password"],["type","submit",1,"mt-3","px-14","btn","btn-primary",3,"disabled"],["text","Login",3,"pending"],[1,"mt-6","space-y-6","text-center"],[1,"text-xl","font-bold"],["routerLink","/signup",1,"px-14","btn","btn-basic","bg-muted-500"],[1,"text-lg","text-danger-900"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"lbk-logo",2),e.TgZ(3,"h1"),e._uU(4,"Login"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,P,2,1,"p",4),e.TgZ(7,"form",5),e.NdJ("ngSubmit",function(){return r.submit()}),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10,"Username"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",6),e.TgZ(13,"label",9),e._uU(14,"Password"),e.qZA(),e._UZ(15,"input",10),e.qZA(),e.TgZ(16,"button",11),e._UZ(17,"lbk-button-spinner",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",13),e.TgZ(19,"p",14),e._uU(20,"Or"),e.qZA(),e.TgZ(21,"a",15),e._uU(22," Signup "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngIf",r.errorMessage),e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(9),e.Q6J("disabled",r.form.invalid||r.pending),e.xp6(1),e.Q6J("pending",r.pending))},directives:[Z.R,p.rH,c.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,h.r,p.yS],encapsulation:2,changeDetection:0}),n})();var v=s(7237),m=s(5083),T=s(2182),a=s(5620);const b="loginPage",J=(0,a.Lq)({error:"",pending:!1},(0,a.on)(v.p.login,n=>({error:null,pending:!0})),(0,a.on)(m.Ti.loginSuccess,T.tr,m.Ti.signUpSuccess,n=>({error:null,pending:!1})),(0,a.on)(m.Ti.loginFailure,(n,{error:o})=>Object.assign(Object.assign({},n),{error:o,pending:!1}))),S=(0,a.ZF)(b),O=(0,a.P1)(S,n=>n.error),k=(0,a.P1)(S,n=>n.pending);let A=(()=>{class n{constructor(t){this.store=t}ngOnInit(){this.pending$=this.store.select(k),this.error$=this.store.select(O)}onSubmit(t){this.store.dispatch(v.p.login({credentials:t}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["lbk-login-page"]],decls:5,vars:6,consts:[[1,"lg:h-screen","grid","place-content-center"],[1,"container"],[3,"pending","errorMessage","submitted"]],template:function(t,r){1&t&&(e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"lbk-login-form",2),e.NdJ("submitted",function(u){return r.onSubmit(u)}),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("pending",e.lcZ(3,2,r.pending$))("errorMessage",e.lcZ(4,4,r.error$)))},directives:[U],pipes:[c.Ov],encapsulation:2}),n})();var L=s(2265),C=s(8798),d=s(1066),w=s(3779),l=s(4004),Q=s(8505);const Y=[{path:"",component:A,canDeactivate:[(()=>{class n{constructor(t){this._store=t}canDeactivate(t,r,g){return t.pending$.pipe((0,l.U)(u=>!u))}canActivate(t,r){return this._store.select(w.gs).pipe((0,Q.b)(g=>console.log(g)),(0,l.U)(g=>!g))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(a.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],canActivate:[d.e]}];let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(Y)],p.Bz]}),n})(),D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,i.UX,G,C.Il,L.hB,a.Aw.forFeature({name:b,reducer:J})]]}),n})();function j(n,o){if(1&n&&(e.TgZ(0,"p",18),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage," ")}}function R(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1,"Username required"),e.qZA())}function B(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1," Username must longer than 8 characters "),e.qZA())}function $(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1," Username must shorter than 30 characters "),e.qZA())}function E(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1,"Password required"),e.qZA())}function z(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1," Password must longer than 8 characters "),e.qZA())}function X(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1," Password must shorter than 30 characters "),e.qZA())}let y=(()=>{class n{constructor(t){this._fb=t,this.submitted=new e.vpe}ngOnInit(){this.form=this._fb.group({username:["",[i.kI.required,i.kI.minLength(5),i.kI.maxLength(30)]],password:["",[i.kI.required,i.kI.minLength(8),i.kI.maxLength(30)]]})}submit(){this.form.valid&&this.submitted.emit(this.form.value)}error(t,r){const g=this.form.get(t);return g.hasError(r)&&g.touched}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["lbk-sign-up-form"]],inputs:{errorMessage:"errorMessage",pending:"pending"},outputs:{submitted:"submitted"},decls:33,vars:10,consts:[[1,"container","grid","place-items-center"],[1,"space-y-8","lg:space-y-10"],["routerLink","/",1,"block","cursor-pointer"],[1,"mt-12"],["class","text-lg text-danger-900",4,"ngIf"],[1,"grid","gap-6","mt-4",3,"formGroup","ngSubmit"],[1,"space-y-2"],["for","username",1,"text-muted-900"],["formControlName","username","id","username","type","text"],[1,"text-danger-900"],[4,"ngIf"],["for","password",1,"text-muted-900"],["formControlName","password","id","password","type","password"],["type","submit",1,"grid","mt-3","px-14","btn","btn-primary","place-content-center",3,"disabled"],["text","Sign Up",3,"pending"],[1,"mt-6","space-y-6","text-center"],[1,"text-xl","font-bold"],["routerLink","/login","type","submit",1,"px-14","btn","btn-basic","bg-muted-500"],[1,"text-lg","text-danger-900"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"lbk-logo",2),e.TgZ(3,"h1"),e._uU(4,"Sign Up"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,j,2,1,"p",4),e.TgZ(7,"form",5),e.NdJ("ngSubmit",function(){return r.submit()}),e.TgZ(8,"div"),e.TgZ(9,"div",6),e.TgZ(10,"label",7),e._uU(11,"Username"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",9),e.YNc(14,R,2,0,"p",10),e.YNc(15,B,2,0,"p",10),e.YNc(16,$,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(17,"div"),e.TgZ(18,"div",6),e.TgZ(19,"label",11),e._uU(20,"Password"),e.qZA(),e._UZ(21,"input",12),e.qZA(),e.TgZ(22,"div",9),e.YNc(23,E,2,0,"p",10),e.YNc(24,z,2,0,"p",10),e.YNc(25,X,2,0,"p",10),e.qZA(),e.qZA(),e.TgZ(26,"button",13),e._UZ(27,"lbk-button-spinner",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",15),e.TgZ(29,"p",16),e._uU(30,"Or"),e.qZA(),e.TgZ(31,"a",17),e._uU(32," Login "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngIf",r.errorMessage),e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(7),e.Q6J("ngIf",r.error("username","required")),e.xp6(1),e.Q6J("ngIf",r.error("username","minlength")),e.xp6(1),e.Q6J("ngIf",r.error("username","maxlength")),e.xp6(7),e.Q6J("ngIf",r.error("password","required")),e.xp6(1),e.Q6J("ngIf",r.error("password","minlength")),e.xp6(1),e.Q6J("ngIf",r.error("password","maxlength")),e.xp6(1),e.Q6J("disabled",r.form.invalid),e.xp6(1),e.Q6J("pending",r.pending))},directives:[Z.R,p.rH,c.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,h.r,p.yS],encapsulation:2,changeDetection:0}),n})();var _=s(8438);const x="signUpPage",K=(0,a.Lq)({error:null,pending:!1},(0,a.on)(_.V.signUp,n=>Object.assign(Object.assign({},n),{error:null,pending:!0})),(0,a.on)(m.Ti.signUpSuccess,T.tr,m.Ti.loginSuccess,n=>({error:null,pending:!1})),(0,a.on)(m.Ti.signUpFailure,(n,{error:o})=>({error:o,pending:!1}))),F=(0,a.ZF)(x),ee=(0,a.P1)(F,n=>n.error),ne=(0,a.P1)(F,n=>n.pending);const te=[{path:"",component:(()=>{class n{constructor(t){this.store=t,this.pending$=this.store.select(ne),this.error$=this.store.select(ee)}onSubmit(t){this.store.dispatch(_.V.signUp({credentials:t}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["lbk-signup-page"]],decls:4,vars:6,consts:[[1,"lg:h-screen","grid","place-content-center"],[3,"pending","errorMessage","submitted"]],template:function(t,r){1&t&&(e.TgZ(0,"main",0),e.TgZ(1,"lbk-sign-up-form",1),e.NdJ("submitted",function(u){return r.onSubmit(u)}),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("pending",e.lcZ(2,2,r.pending$))("errorMessage",e.lcZ(3,4,r.error$)))},directives:[y],pipes:[c.Ov],encapsulation:2}),n})(),canDeactivate:[(()=>{class n{canDeactivate(t,r,g){return t.pending$.pipe((0,l.U)(u=>!u))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],canActivate:[d.e]}];let oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(te)],p.Bz]}),n})(),re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,i.UX,oe,C.Il,L.hB,a.Aw.forFeature({name:x,reducer:K})]]}),n})()}}]);